# bash completion for make

_make() {
    local cur
    COMPREPLY=()
    cur="${COMP_WORDS[COMP_CWORD]}"
    if [[ ${cur} != -* ]]; then

        # complete C filenames without the .c extension
        COMPREPLY=( $(compgen -W "$(for f in *.c; do echo ${f%.c}; done)" -- ${cur}) )
        return 0
    fi
}

complete -F _make make
